<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <div id="test">s</div>

    <div>
        <h1>signUp</h1>
        <span>UserID</span><input type="text" id="UserId">
        <br>
        <span>Password</span><input type="text" id="password">
        <br>
        <input type="submit" value="submit" onclick=signUp()>
    </div>



    <div>
        <h1>logIn</h1>
        <span>UserID</span><input type="text" id="UserId">
        <br>
        <span>Password</span><input type="text" id="password">
        <br>
        <input type="submit" value="submit" onclick=logIn()>
    </div>

    <input type="submit" onclick=test() value="test">

    <script>
        const xhttp = new XMLHttpRequest();
        let endPointRoot = "http://localhost:3000/"
        function signUp() {
            let userIdSt = document.getElementById("UserId").value;
            let passwordSt = document.getElementById("password").value;

            let logInJSON = {
                userID: "hs", password: "b"
            };
            let obj = JSON.stringify(logInJSON);
            console.log(obj);
            let resource = "users"
            xhttp.open("POST", endPointRoot + resource, true);
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send(obj);
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("test").innerHTML = this.responseText;
                    console.log(this.responseText)
                    // document.getElementById("test").innerHTML = "hi";
                }
            };
        }



        function logIn() {
            let userIdSt = document.getElementById("UserId").value;
            let passwordSt = document.getElementById("password").value;

            let logInJSON = {
                userID: "hs", password: "b"
            };
            let obj = JSON.stringify(logInJSON);
            console.log(obj);
            let resource = "users/login"
            xhttp.open("POST", endPointRoot + resource, true);
            // xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send(obj);
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("test").innerHTML = this.responseText;
                    console.log(this.responseText)

                }
            };
        }







        // function test() {

        //     let resource = "users/test"
        //     xhttp.open("POST", endPointRoot + resource, true);
        //     xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        //     xhttp.send();
        //     xhttp.onreadystatechange = function () {
        //         if (this.readyState == 4 && this.status == 200) {
        //             document.getElementById("test").innerHTML = this.responseText;
        //             console.log(this.responseText)
        //             // document.getElementById("test").innerHTML = "hi";
        //         }
        //     };
        // }
    </script>

</body>

</html>